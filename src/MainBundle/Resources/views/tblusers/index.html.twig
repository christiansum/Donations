{% extends 'MainBundle::header.html.twig' %}
{% block title %}Users{% endblock %}

{% block body %}
    <div class="col-sm-9 col-sm-offset-3 col-lg-10 col-lg-offset-2 main">           
        <div class="row">
            <ol class="breadcrumb">
                <li><a href="{{path('main_homepage')}}"><svg class="glyph stroked home"><use xlink:href="#stroked-home"></use></svg></a></li>
                <li class="active">Home</li>
            </ol>
        </div><!--/.row-->
        
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Users</h1>
            </div>
        </div><!--/.row-->

        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="panel-heading">Users administration.</div>
                    <div class="panel-body">
                        <div class="col-md-12">

    <table data-toggle="table">
        <thead>
            <tr>
                <th>User ID</th>
                <th>First Name</th>
                <th>Second Name</th>
                <th>Third Name</th>
                <th>First Lastname</th>
                <th>Second Lastname</th>
                <th>Marriage Lastname</th>
                <th>Document ID</th>
                <th>Gender</th>
                <th>Marital Status</th>
                <th>Phone Number</th>
                <th>Cellphone Number</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        {% for tblUser in tblUsers %}
            <tr>
                <td><a href="{{ path('users_show', { 'id': tblUser.id }) }}">{{ tblUser.id }}</a></td>
                <td>{{ tblUser.firstName }}</td>
                <td>{{ tblUser.secondName }}</td>
                <td>{{ tblUser.thirdName }}</td>
                <td>{{ tblUser.firstLastname }}</td>
                <td>{{ tblUser.secondLastname }}</td>
                <td>{{ tblUser.marriageLastname }}</td>
                <td>{{ tblUser.idDocument }}</td>
                <td>{{ tblUser.gender }}</td>
                <td>{{ tblUser.maritalStatus }}</td>
                <td>{{ tblUser.phoneNumber }}</td>
                <td>{{ tblUser.cellphoneNumber }}</td>
                <td>
                    <ul>
                        <li>
                            <a href="{{ path('users_show', { 'id': tblUser.id }) }}">show</a>
                        </li>
                        <li>
                            <a href="{{ path('users_edit', { 'id': tblUser.id }) }}">edit</a>
                        </li>
                    </ul>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <ul>
        <li>
            <a href="{{ path('fos_user_registration_register') }}">Create a new entry</a>
        </li>
    </ul>
</div>
                    </div>
                </div>
            </div><!-- /.col-->
        </div><!-- /.row -->
        <script>
            $(function () {
                $('#hover, #striped, #condensed').click(function () {
                    var classes = 'table';
        
                    if ($('#hover').prop('checked')) {
                        classes += ' table-hover';
                    }
                    if ($('#condensed').prop('checked')) {
                        classes += ' table-condensed';
                    }
                    $('#table-style').bootstrapTable('destroy')
                        .bootstrapTable({
                            classes: classes,
                            striped: $('#striped').prop('checked')
                        });
                });
            });
        
            function rowStyle(row, index) {
                var classes = ['active', 'success', 'info', 'warning', 'danger'];
        
                if (index % 2 === 0 && index / 2 < classes.length) {
                    return {
                        classes: classes[index / 2]
                    };
                }
                return {};
            }
            !function ($) {
                $(document).on("click","ul.nav li.parent > a > span.icon", function(){        
                    $(this).find('em:first').toggleClass("glyphicon-minus");      
                }); 
                $(".sidebar span.icon").find('em:first').addClass("glyphicon-plus");
            }(window.jQuery);

            $(window).on('resize', function () {
              if ($(window).width() > 768) $('#sidebar-collapse').collapse('show')
            })
            $(window).on('resize', function () {
              if ($(window).width() <= 767) $('#sidebar-collapse').collapse('hide')
            })
        </script>
{% endblock %}

